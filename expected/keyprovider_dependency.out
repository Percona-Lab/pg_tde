CREATE EXTENSION pg_tde;
SELECT pg_tde_add_key_provider_file('mk-file','/tmp/pg_tde_test_keyring.per');
 pg_tde_add_key_provider_file 
------------------------------
                            1
(1 row)

SELECT pg_tde_add_key_provider_file('free-file','/tmp/pg_tde_test_keyring_2.per');
 pg_tde_add_key_provider_file 
------------------------------
                            2
(1 row)

SELECT pg_tde_add_key_provider_vault_v2('V2-vault','vault-token','percona.com/vault-v2/percona','/mount/dev','ca-cert-auth');
 pg_tde_add_key_provider_vault_v2 
----------------------------------
                                3
(1 row)

SELECT pg_tde_set_principal_key('test-db-principal-key','mk-file');
 pg_tde_set_principal_key 
--------------------------
 t
(1 row)

DROP EXTENSION pg_tde;
